(this["webpackJsonpto-do-list"]=this["webpackJsonpto-do-list"]||[]).push([[0],{13:function(e,t,c){},15:function(e,t,c){},16:function(e,t,c){},17:function(e,t,c){"use strict";c.r(t);var o=c(0),n=c(7),a=c.n(n),l=c(8),s=c(2),d=(c(13),c(1));function r(e){var t=e.todoInput,c=e.todoInputRef,o=e.todoInputChangeHandler,n=e.addTodoHandler,a=e.changeFilterStatusHandler;return Object(d.jsxs)("form",{className:"todos__form",children:[Object(d.jsx)("input",{className:"todos__input",type:"text",placeholder:"Add todo",value:t,onChange:o,ref:c}),Object(d.jsx)("button",{className:"todos__add",onClick:n,children:"Add"}),Object(d.jsxs)("select",{className:"todos__filter",onChange:a,children:[Object(d.jsx)("option",{className:"filter__option",value:"all",children:"All"}),Object(d.jsx)("option",{className:"filter__option",value:"completed",children:"Completed"}),Object(d.jsx)("option",{className:"filter__option",value:"uncompleted",children:"Uncompleted"})]})]})}var i=Object(o.memo)(r),u=c(5);c(15);function j(e){var t=e.todo,c=e.checkTodoHandler,n=e.updateTodoContentHandler,a=e.deleteTodoHandler,l=Object(o.useState)(!1),r=Object(s.a)(l,2),i=r[0],j=r[1],b=Object(o.useState)(t.content),f=Object(s.a)(b,2),O=f[0],m=f[1],p=Object(o.useRef)();Object(o.useEffect)((function(){p.current&&p.current.focus()}),[i]);return Object(d.jsx)("li",{className:"todo ".concat(i&&"todo-edit"),children:i?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("input",{className:"todo-edit__content",type:"text",value:O,onChange:function(e){m(e.target.value)},ref:p}),Object(d.jsx)(u.a,{className:"todo-edit__update icon",onClick:function(){n(t.id,O),j(!1)}})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{className:"todo__content",children:t.content}),Object(d.jsxs)("div",{className:"todo__icons",children:[Object(d.jsx)(u.c,{className:"todo__edit icon",onClick:function(){j(!0)}}),Object(d.jsx)(u.b,{className:"todo__delete icon",onClick:function(){a(t.id)}}),Object(d.jsx)("input",{className:"todo__check icon",type:"checkbox",checked:t.completed,onChange:function(){c(t.id)}})]})]})})}var b=Object(o.memo)(j);var f=function(){var e=Object(o.useState)(""),t=Object(s.a)(e,2),c=t[0],n=t[1],a=Object(o.useState)([]),r=Object(s.a)(a,2),u=r[0],j=r[1],f=Object(o.useState)("all"),O=Object(s.a)(f,2),m=O[0],p=O[1],h=Object(o.useState)([]),_=Object(s.a)(h,2),x=_[0],v=_[1],g=Object(o.useRef)();Object(o.useEffect)((function(){null===localStorage.getItem("todos")?localStorage.setItem("todos",JSON.stringify([])):j(JSON.parse(localStorage.getItem("todos"))),g.current.focus()}),[]),Object(o.useEffect)((function(){localStorage.setItem("todos",JSON.stringify(u)),function(){if("all"===m)v(u);else if("completed"===m){var e=u.filter((function(e){return e.completed}));v(e)}else if("uncompleted"===m){var t=u.filter((function(e){return!e.completed}));v(t)}else console.log("Error from filter todos!")}()}),[u,m]);var N=Object(o.useCallback)((function(e){n(e.target.value)}),[]),C=Object(o.useCallback)((function(e){e.preventDefault(),j((function(e){return[].concat(Object(l.a)(e),[{id:(new Date).getTime(),content:c,completed:!1}])})),n(""),g.current.focus()}),[c]),k=Object(o.useCallback)((function(e){p(e.target.value)}),[]),S=Object(o.useCallback)((function(e){var t=u.map((function(t){return e===t.id&&(t.completed=!t.completed),t}));j(t)}),[u]),H=Object(o.useCallback)((function(e,t){var c=u.map((function(c){return e===c.id&&(c.content=t),c}));j(c)}),[u]),I=Object(o.useCallback)((function(e){var t=u.filter((function(t){return e!==t.id}));j(t)}),[u]);return Object(d.jsxs)("div",{className:"app",children:[Object(d.jsx)("h1",{className:"title",children:"Todo List"}),Object(d.jsxs)("div",{className:"wrapper",children:[Object(d.jsx)(i,{todoInputRef:g,todoInput:c,todoInputChangeHandler:N,addTodoHandler:C,changeFilterStatusHandler:k}),Object(d.jsx)("ul",{className:"todos__list",children:x.map((function(e){return Object(d.jsx)(b,{todo:e,checkTodoHandler:S,updateTodoContentHandler:H,deleteTodoHandler:I},e.id)}))})]})]})};c(16);a.a.render(Object(d.jsx)(f,{}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.7c529cdc.chunk.js.map